CREATE OR REPLACE PACKAGE LPV_INTERFAZ_WS."PKG_SAPEQUI" AUTHID CURRENT_USER AS

TYPE TR_TMP IS RECORD(
 PIN_ID                  WBS_ZCOLLECTION01.ID%TYPE,
 PIN_BUKRS               WBS_ZCOLLECTION01.BUKRS%TYPE,
 PIN_BELNR               WBS_ZCOLLECTION01.BELNR%TYPE,
 PIN_POONU               WBS_ZCOLLECTION01.POONU%TYPE,
 PIN_PLNCB               WBS_ZCOLLECTION01.PLNCB%TYPE,
 PIN_ZCB_PLANEST         WBS_ZCOLLECTION01.ZCB_PLANEST%TYPE,
 PIN_KURSF               WBS_ZCOLLECTION01.KURSF%TYPE,
 PIN_ZCB_SUCUR           WBS_ZCOLLECTION01.ZCB_SUCUR%TYPE,
 PIN_WAERS               WBS_ZCOLLECTION01.WAERS%TYPE,
 PIN_BUDAT               WBS_ZCOLLECTION01.BUDAT%TYPE,
 PIN_ZOR_NREG            WBS_ZCOLLECTION01.ZOR_NREG%TYPE,
 PIN_ZOR_TIPO            WBS_ZCOLLECTION01.ZOR_TIPO%TYPE,
 PIN_ZOR_NDOC            WBS_ZCOLLECTION01.ZOR_NDOC%TYPE,
 PIN_ZOR_NFIN            WBS_ZCOLLECTION01.ZOR_NFIN%TYPE,
 PIN_DRAFT               WBS_ZCOLLECTION01.DRAFT%TYPE,
 PIN_ZFC_TIPO            WBS_ZCOLLECTION01.ZFC_TIPO%TYPE,
 PIN_ZFC_SERIE           WBS_ZCOLLECTION01.ZFC_SERIE%TYPE,
 PIN_ZFC_NDOC            WBS_ZCOLLECTION01.ZFC_NDOC%TYPE,
 PIN_ZOR_TIPO2           WBS_ZCOLLECTION01.ZOR_TIPO2%TYPE,
 PIN_ZCB_CANEST          WBS_ZCOLLECTION01.ZCB_CANEST%TYPE,
 PIN_ZCB_RAMO            WBS_ZCOLLECTION01.ZCB_RAMO%TYPE,
 PIN_ZOR_MONEDA          WBS_ZCOLLECTION01.ZOR_MONEDA%TYPE,
 PIN_ZCB_MONTO           WBS_ZCOLLECTION01.ZCB_MONTO%TYPE,
 PIN_ZOR_CLIENT          WBS_ZCOLLECTION01.ZOR_CLIENT%TYPE,
 PIN_ZCB_TIPO            WBS_ZCOLLECTION01.ZCB_TIPO%TYPE,
 PIN_ZCB_NDOC            WBS_ZCOLLECTION01.ZCB_NDOC%TYPE,
 PIN_ZCB_GIRO            WBS_ZCOLLECTION01.ZCB_GIRO%TYPE,
 PIN_ZCO_OFICI           WBS_ZCOLLECTION01.ZCO_OFICI%TYPE,
 PIN_ZOR_SISTOR          WBS_ZCOLLECTION01.ZOR_SISTOR%TYPE,
 PIN_ESTADO              WBS_ZCOLLECTION01.ESTADO%TYPE,
 PIN_ERROR               WBS_ZCOLLECTION01.ERROR%TYPE,
 PIN_SECIM               WBS_ZCOLLECTION01.SECIM%TYPE
);

TYPE TR_LOG IS RECORD(
PIN_ID        WBS_ZCOLLECTION01_LOG.ID%TYPE,
PIN_NUM_IDOC  WBS_ZCOLLECTION01_LOG.NUM_IDOC%TYPE,
PIN_BUKRS     WBS_ZCOLLECTION01_LOG.BUKRS%TYPE,
PIN_BELNR     WBS_ZCOLLECTION01_LOG.BELNR%TYPE,
PIN_SISTEMA   WBS_ZCOLLECTION01_LOG.SISTEMA%TYPE,
PIN_ERROR     WBS_ZCOLLECTION01_LOG.ERROR%TYPE,
PIN_CODERROR  WBS_ZCOLLECTION01_LOG.CODERROR%TYPE
);

TYPE RCTSEL_TMP IS REF CURSOR RETURN TR_TMP; 
TYPE RCTSEL_LOG IS REF CURSOR RETURN TR_LOG;

PROCEDURE SP_SEL_OFIC_REG_SAP
(PIN_N001_OFICCORE IN INTEGER ,
 PUOT_S002_OFISAP  OUT CHAR,
 PUOT_S003_REGSAP  OUT CHAR,
 PUOT_S004_NEGSAP  OUT CHAR
 );
 
 PROCEDURE SP_SEL_OFIC_REG_CORE
(
 PIN_S002_OFISAP  IN CHAR,
 PIN_S004_NEGSAP  IN CHAR,
 POUT_N001_OFICCORE OUT INTEGER
 );



PROCEDURE SP_SEL_RAMO_OF_UNEGSAP
(PIN_N001_RAMOCORE IN INTEGER ,
 PIN_N003_OFCORE IN INTEGER ,
 PUOT_N002_UNEGSAP  OUT CHAR
 );
 
PROCEDURE SP_SEL_RAMO_OF_UNEGSAP_COMP
(PIN_N001_RAMOCORE IN INTEGER ,
 PIN_N003_OFCORE IN INTEGER ,
 PIN_N004_COMPANIA IN INTEGER ,
 PUOT_N002_UNEGSAP  OUT CHAR
 );
 


PROCEDURE SP_SEL_RAMO_UNEGSAP
(PIN_N001_RAMOCORE IN INTEGER ,
 PUOT_N002_UNEGSAP  OUT CHAR
 );

PROCEDURE SP_SEL_MONT_PERC_DET
(PIN_S001_TIPO IN CHAR ,
 PIN_S002_INDICADOR  IN CHAR,
 PUOT_N003_PERCENT  OUT NUMBER,
 PUOT_N004_MONTO OUT NUMBER
 );
 
 
PROCEDURE SP_SEL_TIPODOC_T1_SAP
(PIN_S001_TIPODOC_CORE IN VARCHAR2 ,
 PUOT_S002_TIPODOC_SAP  OUT VARCHAR2
 );

PROCEDURE SP_SEL_TIPODOC_T2_SAP
(PIN_S001_TIPODOC_CORE IN VARCHAR2 ,
 PUOT_S002_TIPODOC_SAP  OUT VARCHAR2
 );
 
 PROCEDURE SP_INS_ZCOLLECTION01_TMP_SAP
(PIN_BUKRS               IN WBS_ZCOLLECTION01.BUKRS%TYPE,
 PIN_BELNR               IN WBS_ZCOLLECTION01.BELNR%TYPE,
 PIN_POONU               IN WBS_ZCOLLECTION01.POONU%TYPE,
 PIN_PLNCB               IN WBS_ZCOLLECTION01.PLNCB%TYPE,
 PIN_ZCB_PLANEST         IN WBS_ZCOLLECTION01.ZCB_PLANEST%TYPE,
 PIN_KURSF               IN WBS_ZCOLLECTION01.KURSF%TYPE,
 PIN_ZCB_SUCUR           IN WBS_ZCOLLECTION01.ZCB_SUCUR%TYPE,
 PIN_WAERS               IN WBS_ZCOLLECTION01.WAERS%TYPE,
 PIN_BUDAT               IN WBS_ZCOLLECTION01.BUDAT%TYPE,
 PIN_ZOR_NREG            IN WBS_ZCOLLECTION01.ZOR_NREG%TYPE,
 PIN_ZOR_TIPO            IN WBS_ZCOLLECTION01.ZOR_TIPO%TYPE,
 PIN_ZOR_NDOC            IN WBS_ZCOLLECTION01.ZOR_NDOC%TYPE,
 PIN_ZOR_NFIN            IN WBS_ZCOLLECTION01.ZOR_NFIN%TYPE,
 PIN_DRAFT               IN WBS_ZCOLLECTION01.DRAFT%TYPE,
 PIN_ZFC_TIPO            IN WBS_ZCOLLECTION01.ZFC_TIPO%TYPE,
 PIN_ZFC_SERIE           IN WBS_ZCOLLECTION01.ZFC_SERIE%TYPE,
 PIN_ZFC_NDOC            IN WBS_ZCOLLECTION01.ZFC_NDOC%TYPE,
 PIN_ZOR_TIPO2           IN WBS_ZCOLLECTION01.ZOR_TIPO2%TYPE,
 PIN_ZCB_CANEST          IN WBS_ZCOLLECTION01.ZCB_CANEST%TYPE,
 PIN_ZCB_RAMO            IN WBS_ZCOLLECTION01.ZCB_RAMO%TYPE,
 PIN_ZOR_MONEDA          IN WBS_ZCOLLECTION01.ZOR_MONEDA%TYPE,
 PIN_ZCB_MONTO           IN WBS_ZCOLLECTION01.ZCB_MONTO%TYPE,
 PIN_ZOR_CLIENT          IN WBS_ZCOLLECTION01.ZOR_CLIENT%TYPE,
 PIN_ZCB_TIPO            IN WBS_ZCOLLECTION01.ZCB_TIPO%TYPE,
 PIN_ZCB_NDOC            IN WBS_ZCOLLECTION01.ZCB_NDOC%TYPE,
 PIN_ZCB_GIRO            IN WBS_ZCOLLECTION01.ZCB_GIRO%TYPE,
 PIN_ZCO_OFICI           IN WBS_ZCOLLECTION01.ZCO_OFICI%TYPE,
 PIN_ZOR_SISTOR          IN WBS_ZCOLLECTION01.ZOR_SISTOR%TYPE,
 PIN_ESTADO              IN WBS_ZCOLLECTION01.ESTADO%TYPE,
 PIN_ERROR               IN WBS_ZCOLLECTION01.ERROR%TYPE,
 PIN_SECIM               IN WBS_ZCOLLECTION01.SECIM%TYPE
  );
  
 PROCEDURE SP_SEL_ZCOLLECTION01_TMP_SAP
(
 PIN_ID               IN WBS_ZCOLLECTION01.ID%TYPE,
 SEL_OUT              OUT RCTSEL_TMP
);

PROCEDURE SP_INS_ZCOLLECTION01_LOG_SAP
(PIN_NUM_IDOC                IN WBS_ZCOLLECTION01_LOG.NUM_IDOC%TYPE,
 PIN_BUKRS                   IN WBS_ZCOLLECTION01_LOG.BUKRS%TYPE,
 PIN_BELNR                   IN WBS_ZCOLLECTION01_LOG.BELNR%TYPE,
 PIN_SISTEMA                 IN WBS_ZCOLLECTION01_LOG.SISTEMA%TYPE,
 PIN_ERROR                   IN WBS_ZCOLLECTION01_LOG.ERROR%TYPE,
 PIN_CODERROR                IN WBS_ZCOLLECTION01_LOG.CODERROR%TYPE 
 );
  
   PROCEDURE SP_SEL_ZCOLLECTION01_LOG_SAP
(
 PIN_NUM_IDOC         IN WBS_ZCOLLECTION01_LOG.NUM_IDOC%TYPE,
 SEL_OUT              OUT RCTSEL_LOG
);
 
PROCEDURE SP_SEL_MAPS_SAP
(PIN_NAME IN WBS_MAPS.NAME%TYPE,
PIN_INT IN WBS_MAPS.INTERFAZ%TYPE,
PIN_INPUT IN WBS_MAPS.INPUT%TYPE,
 PUOT_OUTPUT  OUT WBS_MAPS.OUTPUT%TYPE
 );
 
END PKG_SAPEQUI;
